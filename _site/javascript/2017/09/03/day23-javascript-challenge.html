<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Favicon -->
  <link rel="icon" href="/favicon.png">
  <link rel="image_src" href="/images/personal_life.png">

  <!-- Meta information -->
  <title>Day 23: JavaScript Challenge</title>
  <meta name="description"
        content="I’ve done the similar challenge in day 20 before (Hawking’s voice synthesizer), but it’s more challenging (not really).I am too tired to explain the challang...">
  <link rel="canonical"
        href="https://miayam.github.io/javascript/2017/09/03/day23-javascript-challenge" />

  <!-- hack.css -->
  <link rel="stylesheet" href="https://npmcdn.com/hack/dist/hack.css" />
  
    <link rel="stylesheet" href="https://npmcdn.com/hack/dist/standard.css" />
  

  <!-- Prism.js -->
  <link rel="stylesheet" href="https://npmcdn.com/prismjs@1.5.1/themes/prism.css">

  <!-- Custom style -->
  <link rel="stylesheet" href="/css/main.css" />

  <!-- Feed -->
  <link rel="alternate" type="application/rss+xml" title="miayam.github.io"
        href="/feed.xml" />

  <!-- 'jekyll-seo' plugin -->
  <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Day 23: JavaScript Challenge - miayam.github.io</title>
<meta property="og:title" content="Day 23: JavaScript Challenge" />
<meta name="description" content="I’ve done the similar challenge in day 20 before (Hawking’s voice synthesizer), but it’s more challenging (not really).I am too tired to explain the challange. Perhaps, the only thing that’s worth-explaining isthis part:  var DMZ = Object.create(null)  // Adding arguments to callback... Sounds magical!  whateverDOM.addEventListener(&#39;click&#39;, callback.bind(DMZ, arg1, arg2, arg3));I’ve read this binding mechanism from This &amp; Prototype of YDKJS (You Don’t Know JavaScript)book series and put it into action here.Passing empty object (DMZ) to the first parameter of Function.prototype.bind and then passingany values to the rest of parameters is to set default arguments passed to callbackand have it ignore the this binding. Consequently, after it was applied, the callbackwould be bound to empty object that has no link to [[Prototype]] chain and arguments are setwithout having to invoke the callback, something like callback(arg1, arg2);.Here’s the demo and my half-assed solution below.true" />
<meta property="og:description" content="I’ve done the similar challenge in day 20 before (Hawking’s voice synthesizer), but it’s more challenging (not really).I am too tired to explain the challange. Perhaps, the only thing that’s worth-explaining isthis part:  var DMZ = Object.create(null)  // Adding arguments to callback... Sounds magical!  whateverDOM.addEventListener(&#39;click&#39;, callback.bind(DMZ, arg1, arg2, arg3));I’ve read this binding mechanism from This &amp; Prototype of YDKJS (You Don’t Know JavaScript)book series and put it into action here.Passing empty object (DMZ) to the first parameter of Function.prototype.bind and then passingany values to the rest of parameters is to set default arguments passed to callbackand have it ignore the this binding. Consequently, after it was applied, the callbackwould be bound to empty object that has no link to [[Prototype]] chain and arguments are setwithout having to invoke the callback, something like callback(arg1, arg2);.Here’s the demo and my half-assed solution below.true" />
<link rel="canonical" href="https://miayam.github.io/javascript/2017/09/03/day23-javascript-challenge" />
<meta property="og:url" content="https://miayam.github.io/javascript/2017/09/03/day23-javascript-challenge" />
<meta property="og:site_name" content="miayam.github.io" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-09-03T00:00:00+07:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Day 23: JavaScript Challenge",
    "datePublished": "2017-09-03T00:00:00+07:00",
    "description": "I’ve done the similar challenge in day 20 before (Hawking’s voice synthesizer), but it’s more challenging (not really).I am too tired to explain the challange. Perhaps, the only thing that’s worth-explaining isthis part:  var DMZ = Object.create(null)  // Adding arguments to callback... Sounds magical!  whateverDOM.addEventListener(&#39;click&#39;, callback.bind(DMZ, arg1, arg2, arg3));I’ve read this binding mechanism from This &amp; Prototype of YDKJS (You Don’t Know JavaScript)book series and put it into action here.Passing empty object (DMZ) to the first parameter of Function.prototype.bind and then passingany values to the rest of parameters is to set default arguments passed to callbackand have it ignore the this binding. Consequently, after it was applied, the callbackwould be bound to empty object that has no link to [[Prototype]] chain and arguments are setwithout having to invoke the callback, something like callback(arg1, arg2);.Here’s the demo and my half-assed solution below.true",
    "url": "https://miayam.github.io/javascript/2017/09/03/day23-javascript-challenge"
  }
</script>
<!-- End Jekyll SEO tag -->
</head>



  
    <body class="standard">
  

    <div class="container">
      <div class="grid">
        <aside class="cell -3of12" role="navigation">
          <div class="logo">
            <a href="/" class="logo_link">
              <img src="/images/personal_life.png" style="height: 165px" title="Back to the home page...">
            </a>
            <span class="bullshit">Delicious Meal for Thought</span>
          </div>
          <div class="t-hackcss-navigation">
  <h2 class="t-hackcss-navigation-heading">Main Menu</h2>

  <nav class="menu" role="menubar">
    
    
      <a class="menu-item "
        role="menuitem" href="/" title="">
        Home <div class="pull-right">»</div>
      </a>
    
      <a class="menu-item "
        role="menuitem" href="/about" title="">
        About <div class="pull-right">»</div>
      </a>
    
      <a class="menu-item "
        role="menuitem" href="/archive" title="">
        Archive <div class="pull-right">»</div>
      </a>
    
      <a class="menu-item "
        role="menuitem" href="/assets/file/Resume_Muhammad_Deni_Ramadhan.pdf" title="">
        Resume <div class="pull-right">»</div>
      </a>
    
      <a class="menu-item "
        role="menuitem" href="/search" title="">
        Search <div class="pull-right">»</div>
      </a>
    
  </nav>
</div>

        </aside>

        <main class="cell -9of12">
          <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Day 23: JavaScript Challenge</h1>
    <p class="post-meta">
      <time datetime="2017-09-03T00:00:00+07:00"
            itemprop="datePublished"
            class="media-heading">
        3 September 2017
      </time>

      <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">written by <a href="https://github.com/miayam">Muhammad D. Ramadhan</a></span>
      </span>
    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I’ve done the similar challenge in day 20 before (Hawking’s voice synthesizer), but it’s more challenging (not really).</p>

<p>I am too tired to explain the challange. Perhaps, the only thing that’s worth-explaining is
this part:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js">  <span class="kd">var</span> <span class="nx">DMZ</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>

  <span class="c1">// Adding arguments to callback... Sounds magical!</span>
  <span class="nx">whateverDOM</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">DMZ</span><span class="p">,</span> <span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">,</span> <span class="nx">arg3</span><span class="p">));</span></code></pre></figure>

<p>I’ve read <code class="highlighter-rouge">this</code> binding mechanism from This &amp; Prototype of YDKJS (You Don’t Know JavaScript)
book series and put it into action here.</p>

<p>Passing empty object (<code class="highlighter-rouge">DMZ</code>) to the first parameter of <code class="highlighter-rouge">Function.prototype.bind</code> and then passing
any values to the rest of parameters is to set default arguments passed to callback
and have it ignore the <code class="highlighter-rouge">this</code> binding. Consequently, after it was applied, the callback
would be bound to empty object that has no link to <code class="highlighter-rouge">[[Prototype]]</code> chain and <code class="highlighter-rouge">arguments</code> are set
without having to invoke the callback, something like <code class="highlighter-rouge">callback(arg1, arg2);</code>.</p>

<p>Here’s the <a href="/demo_day23" target="_blank">demo</a> and my half-assed solution below.</p>

<noscript><pre>(function (window, undefined) {
  var utterance = new SpeechSynthesisUtterance();
  var voicesDropdown = document.querySelector(&#39;[name=&quot;voice&quot;]&#39;);
  var options = document.querySelectorAll(&#39;[type=&quot;range&quot;]&#39;);
  var text = document.querySelector(&#39;[name=&quot;text&quot;]&#39;);
  var speakButton = document.querySelector(&#39;#speak&#39;);
  var stopButton = document.querySelector(&#39;#stop&#39;);
  var voices = [];
  var DMZ = Object.create(null);

  function populateVoices() {
    voices = this.getVoices();
    voicesDropdown.innerHTML = voices.filter(function (voice) {
      return voice.lang.includes(&#39;en&#39;);
    }).map(function (voice) {
      return `
        &lt;option value=&quot;${voice.name}&quot;&gt;
          ${voice.name} (${voice.lang})
        &lt;/option&gt;
      `;
    }).join(&#39;&#39;);
  }

  function setVoice() {
    // It&#39;s lexical `this`.
    var option = this;
    utterance.voice = voices.find(function (voice) {
      return voice.name === option.value;
    });

    toogle();
  }

  function toogle(continueToSpeak = true) {
    window.speechSynthesis.cancel();

    if (continueToSpeak) {
      utterance.text = text.value;
      window.speechSynthesis.speak(utterance);
    }
  }

  function setOption() {
    utterance[this.name] = this.value;
    toogle();
  }

  window.speechSynthesis.addEventListener(&#39;voiceschanged&#39;, populateVoices);
  voicesDropdown.addEventListener(&#39;change&#39;, setVoice);
  options.forEach(function (option) {
    option.addEventListener(&#39;change&#39;, setOption);
  });
  speakButton.addEventListener(&#39;click&#39;, toogle);
  stopButton.addEventListener(&#39;click&#39;, toogle.bind(DMZ, false));
})(window);</pre></noscript>
<script src="https://gist.github.com/miayam/e1e691e48c54590eb137b5e077d17336.js"> </script>


  </div>

  <div class="blog-navigation">
    <hr>
    
      <a href="/javascript/2017/08/27/day22-javascript-challenge" class="blog-navigation__previous-link">&laquo; Day 22: JavaScript Challenge</a>
    
    
      <a href="/javascript/2017/09/16/day24-javascript-challenge" class="blog-navigation__next-link"> Day 24: JavaScript Challenge &raquo;</a>
    
  </div>
</article>

<section>
  <div class="fb-comments" data-href="https://miayam.github.io/javascript/2017/09/03/day23-javascript-challenge" data-width="100%" data-numposts="10">
  </div>
</section>

        </main>
      </div>

    <footer class="t-hackcss-footer">
  <div class="cell -12of12">
    <div class="contact-list">
    </div>
  </div>
</footer>


    </div>

  </body>
  <div id="fb-root"></div>
  <script>
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) {
        d.getElementById('loading').style.display = "none";
        return;
      }
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.9&appId=676883012507478";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <!-- Prism.js -->
  <script src="https://npmcdn.com/prismjs@1.5.1/prism.js"></script>
</html>
