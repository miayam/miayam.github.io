<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Favicon -->
  <link rel="icon" href="/favicon.png">
  <link rel="image_src" href="/images/personal_life.png">

  <!-- Meta information -->
  <title>Bagaimana Kami Mengelola Akun Firebase Menggunakan Ruby?</title>
  <meta name="description"
        content="Firebase belum menyediakan pustaka (library) untuk mengelola akun di Firebase dalam bahasa Ruby.Kami punya ide untuk menangani masalah ini.Biasanya penerimaa...">
  <link rel="canonical"
        href="https://miayam.github.io/ruby/2017/10/08/import-firebase-account" />

  <!-- hack.css -->
  <link rel="stylesheet" href="https://npmcdn.com/hack/dist/hack.css" />
  
    <link rel="stylesheet" href="https://npmcdn.com/hack/dist/standard.css" />
  

  <!-- Prism.js -->
  <link rel="stylesheet" href="https://npmcdn.com/prismjs@1.5.1/themes/prism.css">

  <!-- Custom style -->
  <link rel="stylesheet" href="/css/main.css" />

  <!-- Feed -->
  <link rel="alternate" type="application/rss+xml" title="miayam.github.io"
        href="/feed.xml" />

  <!-- 'jekyll-seo' plugin -->
  <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Bagaimana Kami Mengelola Akun Firebase Menggunakan Ruby? - miayam.github.io</title>
<meta property="og:title" content="Bagaimana Kami Mengelola Akun Firebase Menggunakan Ruby?" />
<meta name="description" content="Firebase belum menyediakan pustaka (library) untuk mengelola akun di Firebase dalam bahasa Ruby.Kami punya ide untuk menangani masalah ini.Biasanya penerimaan mahasiswa dilakukan melalui proses panjang di UMS (University Management System):Mulai dari pengunggahan berkas-berkas, pemilihan lokasi ujian, melakukan berbagai pembayaran, sampaiakhirnya calon mahasiswa resmi menjadi mahasiswa di universitas mitra. Semua proses dilakukansecara daring (online).Nah! Salah satu universitas mitra ternyata sudah memiliki daftar mahasiswa (3000-an lebih) melaluiproses manual. Kami perlu memasukkan daftar mahasiswa tersebut ke basis data (database) agar mereka bisamenikmati semua layanan yang disediakan LMS (Learning Management System). VP of Engineering memutar otakkarena kami sudah terlanjur menggunakan Ruby on Rails dari awal dan melakukan migrasi ke Node.js samasaja dengan bunuh diri. Bisa saja kami melakukan pengisian manual secara langsung di Firebase, tapi buatapa menjadi pengembang web jika masih melakukan pekerjaan repetitif semacam itu? Setelah meminta wejangankepada leluhur, akhirnya kami punya solusi yang cukup nyeleneh.Pertama-tama, kami membuat folder baru dengan nama nodejs.Berikut adalah package.json untuk proyek Node.js kami.  {    &quot;name&quot;: &quot;nodejs&quot;,    &quot;version&quot;: &quot;1.0.0&quot;,    &quot;description&quot;: &quot;&quot;,    &quot;main&quot;: &quot;index.js&quot;,    &quot;scripts&quot;: {      &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;    },    &quot;author&quot;: &quot;UMS team&quot;,    &quot;license&quot;: &quot;ISC&quot;,    &quot;dependencies&quot;: {      &quot;firebase&quot;: &quot;^3.6.10&quot;,      &quot;firebase-admin&quot;: &quot;^4.1.1&quot;,      &quot;sleep&quot;: &quot;^5.1.0&quot;,      &quot;pg&quot;: &quot;^6.1.5&quot;,      &quot;url&quot;: &quot;^0.11.0&quot;,    }  }Tidak ada satu pun di tim kami yang punya pengalaman dengan Node.js, jadi harap maklum jika kode yang akankalian lihat membuat mata perih.My eyes!Solusi paling masuk akal adalah meminta tim operasional mengimpor daftar mahasiswa tersebut dalam bentuk CSVke UMS, kemudian biarkan program berjalan di belakang layar sampai semua mahasiswamendapatkan hak akses ke LMS.Berikut adalah cungkilan dari kode busuk kami yang sama sekali tidak punya keindahan semantikdan estetika.Ini modul untuk “membungkus” fungsi-fungsi bawaan Firebase:  // firebase_administrator.js  function firebaseCreateUser(email, admin) {    var user = admin.auth().createUser({      email: String(email).trim(),      emailVerified: false,      password: &quot;harukaedu1234567890qwertyuiop[]&quot;,      disabled: false    });    return user.then(function(userRecord) {      console.log(&quot;Successfully created new user:&quot;, userRecord.uid);      return userRecord.uid;    }).catch(function(error) {      console.log(&quot;Email: &quot;, email);      console.log(&quot;Error: &quot;, error.code);      console.log(&quot;Error creating new user:&quot;, error);      return &#39;failed&#39;    });  }  function firebaseUpdateUser(uid, properties, admin) {    var user = admin.auth().updateUser(uid, {      email: properties.email,      password: properties.password    });    return user.then(function (userRecord) {      return userRecord;    }).catch(function (error) {      console.log(&quot;Error fetching user data: &quot;, error);      process.exit();    });  }  function firebaseGetUserUID(email, admin) {    var user = admin.auth().getUserByEmail(email);    return user.then(function (userRecord) {      return userRecord.uid;    }).catch(function(error) {      console.log(&quot;Error fetching user data: &quot;, error);      process.exit();    });  }  exports.createUser = firebaseCreateUser;  exports.updateUser = firebaseUpdateUser;  exports.getUserUID = firebaseGetUserUID;Ini modul untuk mengunggah akun secara masal ke Firebase:  // mass_uploader.js  var firebase = require(&#39;./firebase_administrator&#39;);  var emails = process.argv[2].split(&quot; &quot;);  var serviceAccount = JSON.parse(process.argv[3]);  var admin = require(&quot;firebase-admin&quot;);  var actions;  admin.initializeApp({    credential: admin.credential.cert(serviceAccount)  });  function uploadUsers(email) {    var user = firebase.createUser(email, admin);    return user.then(function (uid) {      console.log(uid);    }).catch(function (error) {      console.log(&quot;Error creating user&quot;, error);    });  }  actions = emails.map(uploadUsers);  Promise.all(actions).then(function () {    console.log(&quot;Success!&quot;);    process.exit();  }).catch(function (error) {    console.log(&quot;Failed!&quot;);    process.exit();  });Dari sini, kami memulai menulis kode Ruby untuk pembuatan servis yang akan dieksekusi di belakang layarmenggunakan Sidekiq. Silahkan baca dokumentasinyaagar lebih jelas.Sebelum menulis kode, kami memastikan pustaka execjs dan therubyracer terlampir di konfigurasi Gemfile:Kurang lebih seperti ini kodenya:# student_import.rbrequire &#39;csv&#39;module StudentCSVHandler  class CSVImport    def initialize(id:)      @student_import = StudentImport.find_by(id: id)      @file_path = &quot;#{Rails.root}/tmp/#{@student_import.file.path}&quot;      @partner = @student_import.partner      @id = id      # Untuk mengunggah dokumen CSV/Excel ke Google Cloud Storage      @gcs_service = GCS2::ImportStudent::FileManagement.new(object_id: id)    end    def execute      status, remark = import!      student_import(        id: @id,        status: status,        remark: remark      )      @gcs_service.upload_file(        subject: @student_import.file_file_name,        path: @file_path      )      return status, remark    end    private    ### Implementasi kami sembunyikan karena kami malu ###    def student_import(:id, :status, :remark)      emails = @student_import.pluck(:email)      StudentHandler::UsersUploader.new(        emails: emails,        partner_id: @partner.id      )      ### Sisanya acak-acakan sekali ###    end        def import!      ### Ini juga acak-acakan sekali ###    end  endendServis ini akan berjalan setiap tim operasional melakukan pengunggahan. Secara otomatis, Sidekiqakan mendaftarkan proses ini ke antrian sebelum dieksekusi. Ini cukup masukakal karena 3000 lebih mahasiswa tidak diunggah dalam 1 dokumen, mereka dibagiberdasarkan kelas dan mata kuliah yang diambil di semester yang sedang berjalan.Inilah kode kunci untuk menyelesaikan masalah ini. Kami meminta mesin linux untuk menjalankanskrip Node.js dari CLI (Command-line Interface), sementara parameter-parameter yang kami butuhkandimasukkan secara dinamis—yang berarti tidak ditulis secara langsung di baris perintah.Berikut adalah solusi kami yang agak jenaka:# users_uploader.rbrequire &#39;execjs&#39;module StudentHandler  class UsersUploader    attr_reader :command    def initialize(emails:, partner_id:)      partner = Partner.find_by(id: partner_id)      emails = emails.join(&#39; &#39;)      @command = &quot;node lib/nodejs/mass_uploader.js &#39;#{emails}&#39; &#39;#{partner.firebase_credential}&#39;&quot;    end    def execute      system @command    end  endendKami membiarkan Sidekiq bekerja sendiri, sementara kami punya waktu untuk bisa bernafas lega:module StudentImportWorker  class ImportWorker    include Sidekiq::Worker    def perform(id)      StudentCSVHandler::CSVImport.new(        id: id      ).execute    end  endendAlhamdulillah, karya busuk kami masih berjalan sampai sekarang meski terdapat banyak kesalahandi sana-sini.Kini, ribuan mahasiswa yang sebelumnya sudah terdaftar di universitas mitra bisamenikmati layanan yang disediakan LMS tanpa perlu melakukan proses penerimaan mahasiswa baruyang melelahkan. Terima kasih Node.js! Terima kasih Firebase! Saya pensiun menggunakan Ruby on Rails!" />
<meta property="og:description" content="Firebase belum menyediakan pustaka (library) untuk mengelola akun di Firebase dalam bahasa Ruby.Kami punya ide untuk menangani masalah ini.Biasanya penerimaan mahasiswa dilakukan melalui proses panjang di UMS (University Management System):Mulai dari pengunggahan berkas-berkas, pemilihan lokasi ujian, melakukan berbagai pembayaran, sampaiakhirnya calon mahasiswa resmi menjadi mahasiswa di universitas mitra. Semua proses dilakukansecara daring (online).Nah! Salah satu universitas mitra ternyata sudah memiliki daftar mahasiswa (3000-an lebih) melaluiproses manual. Kami perlu memasukkan daftar mahasiswa tersebut ke basis data (database) agar mereka bisamenikmati semua layanan yang disediakan LMS (Learning Management System). VP of Engineering memutar otakkarena kami sudah terlanjur menggunakan Ruby on Rails dari awal dan melakukan migrasi ke Node.js samasaja dengan bunuh diri. Bisa saja kami melakukan pengisian manual secara langsung di Firebase, tapi buatapa menjadi pengembang web jika masih melakukan pekerjaan repetitif semacam itu? Setelah meminta wejangankepada leluhur, akhirnya kami punya solusi yang cukup nyeleneh.Pertama-tama, kami membuat folder baru dengan nama nodejs.Berikut adalah package.json untuk proyek Node.js kami.  {    &quot;name&quot;: &quot;nodejs&quot;,    &quot;version&quot;: &quot;1.0.0&quot;,    &quot;description&quot;: &quot;&quot;,    &quot;main&quot;: &quot;index.js&quot;,    &quot;scripts&quot;: {      &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;    },    &quot;author&quot;: &quot;UMS team&quot;,    &quot;license&quot;: &quot;ISC&quot;,    &quot;dependencies&quot;: {      &quot;firebase&quot;: &quot;^3.6.10&quot;,      &quot;firebase-admin&quot;: &quot;^4.1.1&quot;,      &quot;sleep&quot;: &quot;^5.1.0&quot;,      &quot;pg&quot;: &quot;^6.1.5&quot;,      &quot;url&quot;: &quot;^0.11.0&quot;,    }  }Tidak ada satu pun di tim kami yang punya pengalaman dengan Node.js, jadi harap maklum jika kode yang akankalian lihat membuat mata perih.My eyes!Solusi paling masuk akal adalah meminta tim operasional mengimpor daftar mahasiswa tersebut dalam bentuk CSVke UMS, kemudian biarkan program berjalan di belakang layar sampai semua mahasiswamendapatkan hak akses ke LMS.Berikut adalah cungkilan dari kode busuk kami yang sama sekali tidak punya keindahan semantikdan estetika.Ini modul untuk “membungkus” fungsi-fungsi bawaan Firebase:  // firebase_administrator.js  function firebaseCreateUser(email, admin) {    var user = admin.auth().createUser({      email: String(email).trim(),      emailVerified: false,      password: &quot;harukaedu1234567890qwertyuiop[]&quot;,      disabled: false    });    return user.then(function(userRecord) {      console.log(&quot;Successfully created new user:&quot;, userRecord.uid);      return userRecord.uid;    }).catch(function(error) {      console.log(&quot;Email: &quot;, email);      console.log(&quot;Error: &quot;, error.code);      console.log(&quot;Error creating new user:&quot;, error);      return &#39;failed&#39;    });  }  function firebaseUpdateUser(uid, properties, admin) {    var user = admin.auth().updateUser(uid, {      email: properties.email,      password: properties.password    });    return user.then(function (userRecord) {      return userRecord;    }).catch(function (error) {      console.log(&quot;Error fetching user data: &quot;, error);      process.exit();    });  }  function firebaseGetUserUID(email, admin) {    var user = admin.auth().getUserByEmail(email);    return user.then(function (userRecord) {      return userRecord.uid;    }).catch(function(error) {      console.log(&quot;Error fetching user data: &quot;, error);      process.exit();    });  }  exports.createUser = firebaseCreateUser;  exports.updateUser = firebaseUpdateUser;  exports.getUserUID = firebaseGetUserUID;Ini modul untuk mengunggah akun secara masal ke Firebase:  // mass_uploader.js  var firebase = require(&#39;./firebase_administrator&#39;);  var emails = process.argv[2].split(&quot; &quot;);  var serviceAccount = JSON.parse(process.argv[3]);  var admin = require(&quot;firebase-admin&quot;);  var actions;  admin.initializeApp({    credential: admin.credential.cert(serviceAccount)  });  function uploadUsers(email) {    var user = firebase.createUser(email, admin);    return user.then(function (uid) {      console.log(uid);    }).catch(function (error) {      console.log(&quot;Error creating user&quot;, error);    });  }  actions = emails.map(uploadUsers);  Promise.all(actions).then(function () {    console.log(&quot;Success!&quot;);    process.exit();  }).catch(function (error) {    console.log(&quot;Failed!&quot;);    process.exit();  });Dari sini, kami memulai menulis kode Ruby untuk pembuatan servis yang akan dieksekusi di belakang layarmenggunakan Sidekiq. Silahkan baca dokumentasinyaagar lebih jelas.Sebelum menulis kode, kami memastikan pustaka execjs dan therubyracer terlampir di konfigurasi Gemfile:Kurang lebih seperti ini kodenya:# student_import.rbrequire &#39;csv&#39;module StudentCSVHandler  class CSVImport    def initialize(id:)      @student_import = StudentImport.find_by(id: id)      @file_path = &quot;#{Rails.root}/tmp/#{@student_import.file.path}&quot;      @partner = @student_import.partner      @id = id      # Untuk mengunggah dokumen CSV/Excel ke Google Cloud Storage      @gcs_service = GCS2::ImportStudent::FileManagement.new(object_id: id)    end    def execute      status, remark = import!      student_import(        id: @id,        status: status,        remark: remark      )      @gcs_service.upload_file(        subject: @student_import.file_file_name,        path: @file_path      )      return status, remark    end    private    ### Implementasi kami sembunyikan karena kami malu ###    def student_import(:id, :status, :remark)      emails = @student_import.pluck(:email)      StudentHandler::UsersUploader.new(        emails: emails,        partner_id: @partner.id      )      ### Sisanya acak-acakan sekali ###    end        def import!      ### Ini juga acak-acakan sekali ###    end  endendServis ini akan berjalan setiap tim operasional melakukan pengunggahan. Secara otomatis, Sidekiqakan mendaftarkan proses ini ke antrian sebelum dieksekusi. Ini cukup masukakal karena 3000 lebih mahasiswa tidak diunggah dalam 1 dokumen, mereka dibagiberdasarkan kelas dan mata kuliah yang diambil di semester yang sedang berjalan.Inilah kode kunci untuk menyelesaikan masalah ini. Kami meminta mesin linux untuk menjalankanskrip Node.js dari CLI (Command-line Interface), sementara parameter-parameter yang kami butuhkandimasukkan secara dinamis—yang berarti tidak ditulis secara langsung di baris perintah.Berikut adalah solusi kami yang agak jenaka:# users_uploader.rbrequire &#39;execjs&#39;module StudentHandler  class UsersUploader    attr_reader :command    def initialize(emails:, partner_id:)      partner = Partner.find_by(id: partner_id)      emails = emails.join(&#39; &#39;)      @command = &quot;node lib/nodejs/mass_uploader.js &#39;#{emails}&#39; &#39;#{partner.firebase_credential}&#39;&quot;    end    def execute      system @command    end  endendKami membiarkan Sidekiq bekerja sendiri, sementara kami punya waktu untuk bisa bernafas lega:module StudentImportWorker  class ImportWorker    include Sidekiq::Worker    def perform(id)      StudentCSVHandler::CSVImport.new(        id: id      ).execute    end  endendAlhamdulillah, karya busuk kami masih berjalan sampai sekarang meski terdapat banyak kesalahandi sana-sini.Kini, ribuan mahasiswa yang sebelumnya sudah terdaftar di universitas mitra bisamenikmati layanan yang disediakan LMS tanpa perlu melakukan proses penerimaan mahasiswa baruyang melelahkan. Terima kasih Node.js! Terima kasih Firebase! Saya pensiun menggunakan Ruby on Rails!" />
<link rel="canonical" href="https://miayam.github.io/ruby/2017/10/08/import-firebase-account" />
<meta property="og:url" content="https://miayam.github.io/ruby/2017/10/08/import-firebase-account" />
<meta property="og:site_name" content="miayam.github.io" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-10-08T00:00:00+07:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Bagaimana Kami Mengelola Akun Firebase Menggunakan Ruby?",
    "datePublished": "2017-10-08T00:00:00+07:00",
    "description": "Firebase belum menyediakan pustaka (library) untuk mengelola akun di Firebase dalam bahasa Ruby.Kami punya ide untuk menangani masalah ini.Biasanya penerimaan mahasiswa dilakukan melalui proses panjang di UMS (University Management System):Mulai dari pengunggahan berkas-berkas, pemilihan lokasi ujian, melakukan berbagai pembayaran, sampaiakhirnya calon mahasiswa resmi menjadi mahasiswa di universitas mitra. Semua proses dilakukansecara daring (online).Nah! Salah satu universitas mitra ternyata sudah memiliki daftar mahasiswa (3000-an lebih) melaluiproses manual. Kami perlu memasukkan daftar mahasiswa tersebut ke basis data (database) agar mereka bisamenikmati semua layanan yang disediakan LMS (Learning Management System). VP of Engineering memutar otakkarena kami sudah terlanjur menggunakan Ruby on Rails dari awal dan melakukan migrasi ke Node.js samasaja dengan bunuh diri. Bisa saja kami melakukan pengisian manual secara langsung di Firebase, tapi buatapa menjadi pengembang web jika masih melakukan pekerjaan repetitif semacam itu? Setelah meminta wejangankepada leluhur, akhirnya kami punya solusi yang cukup nyeleneh.Pertama-tama, kami membuat folder baru dengan nama nodejs.Berikut adalah package.json untuk proyek Node.js kami.  {    &quot;name&quot;: &quot;nodejs&quot;,    &quot;version&quot;: &quot;1.0.0&quot;,    &quot;description&quot;: &quot;&quot;,    &quot;main&quot;: &quot;index.js&quot;,    &quot;scripts&quot;: {      &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;    },    &quot;author&quot;: &quot;UMS team&quot;,    &quot;license&quot;: &quot;ISC&quot;,    &quot;dependencies&quot;: {      &quot;firebase&quot;: &quot;^3.6.10&quot;,      &quot;firebase-admin&quot;: &quot;^4.1.1&quot;,      &quot;sleep&quot;: &quot;^5.1.0&quot;,      &quot;pg&quot;: &quot;^6.1.5&quot;,      &quot;url&quot;: &quot;^0.11.0&quot;,    }  }Tidak ada satu pun di tim kami yang punya pengalaman dengan Node.js, jadi harap maklum jika kode yang akankalian lihat membuat mata perih.My eyes!Solusi paling masuk akal adalah meminta tim operasional mengimpor daftar mahasiswa tersebut dalam bentuk CSVke UMS, kemudian biarkan program berjalan di belakang layar sampai semua mahasiswamendapatkan hak akses ke LMS.Berikut adalah cungkilan dari kode busuk kami yang sama sekali tidak punya keindahan semantikdan estetika.Ini modul untuk “membungkus” fungsi-fungsi bawaan Firebase:  // firebase_administrator.js  function firebaseCreateUser(email, admin) {    var user = admin.auth().createUser({      email: String(email).trim(),      emailVerified: false,      password: &quot;harukaedu1234567890qwertyuiop[]&quot;,      disabled: false    });    return user.then(function(userRecord) {      console.log(&quot;Successfully created new user:&quot;, userRecord.uid);      return userRecord.uid;    }).catch(function(error) {      console.log(&quot;Email: &quot;, email);      console.log(&quot;Error: &quot;, error.code);      console.log(&quot;Error creating new user:&quot;, error);      return &#39;failed&#39;    });  }  function firebaseUpdateUser(uid, properties, admin) {    var user = admin.auth().updateUser(uid, {      email: properties.email,      password: properties.password    });    return user.then(function (userRecord) {      return userRecord;    }).catch(function (error) {      console.log(&quot;Error fetching user data: &quot;, error);      process.exit();    });  }  function firebaseGetUserUID(email, admin) {    var user = admin.auth().getUserByEmail(email);    return user.then(function (userRecord) {      return userRecord.uid;    }).catch(function(error) {      console.log(&quot;Error fetching user data: &quot;, error);      process.exit();    });  }  exports.createUser = firebaseCreateUser;  exports.updateUser = firebaseUpdateUser;  exports.getUserUID = firebaseGetUserUID;Ini modul untuk mengunggah akun secara masal ke Firebase:  // mass_uploader.js  var firebase = require(&#39;./firebase_administrator&#39;);  var emails = process.argv[2].split(&quot; &quot;);  var serviceAccount = JSON.parse(process.argv[3]);  var admin = require(&quot;firebase-admin&quot;);  var actions;  admin.initializeApp({    credential: admin.credential.cert(serviceAccount)  });  function uploadUsers(email) {    var user = firebase.createUser(email, admin);    return user.then(function (uid) {      console.log(uid);    }).catch(function (error) {      console.log(&quot;Error creating user&quot;, error);    });  }  actions = emails.map(uploadUsers);  Promise.all(actions).then(function () {    console.log(&quot;Success!&quot;);    process.exit();  }).catch(function (error) {    console.log(&quot;Failed!&quot;);    process.exit();  });Dari sini, kami memulai menulis kode Ruby untuk pembuatan servis yang akan dieksekusi di belakang layarmenggunakan Sidekiq. Silahkan baca dokumentasinyaagar lebih jelas.Sebelum menulis kode, kami memastikan pustaka execjs dan therubyracer terlampir di konfigurasi Gemfile:Kurang lebih seperti ini kodenya:# student_import.rbrequire &#39;csv&#39;module StudentCSVHandler  class CSVImport    def initialize(id:)      @student_import = StudentImport.find_by(id: id)      @file_path = &quot;#{Rails.root}/tmp/#{@student_import.file.path}&quot;      @partner = @student_import.partner      @id = id      # Untuk mengunggah dokumen CSV/Excel ke Google Cloud Storage      @gcs_service = GCS2::ImportStudent::FileManagement.new(object_id: id)    end    def execute      status, remark = import!      student_import(        id: @id,        status: status,        remark: remark      )      @gcs_service.upload_file(        subject: @student_import.file_file_name,        path: @file_path      )      return status, remark    end    private    ### Implementasi kami sembunyikan karena kami malu ###    def student_import(:id, :status, :remark)      emails = @student_import.pluck(:email)      StudentHandler::UsersUploader.new(        emails: emails,        partner_id: @partner.id      )      ### Sisanya acak-acakan sekali ###    end        def import!      ### Ini juga acak-acakan sekali ###    end  endendServis ini akan berjalan setiap tim operasional melakukan pengunggahan. Secara otomatis, Sidekiqakan mendaftarkan proses ini ke antrian sebelum dieksekusi. Ini cukup masukakal karena 3000 lebih mahasiswa tidak diunggah dalam 1 dokumen, mereka dibagiberdasarkan kelas dan mata kuliah yang diambil di semester yang sedang berjalan.Inilah kode kunci untuk menyelesaikan masalah ini. Kami meminta mesin linux untuk menjalankanskrip Node.js dari CLI (Command-line Interface), sementara parameter-parameter yang kami butuhkandimasukkan secara dinamis—yang berarti tidak ditulis secara langsung di baris perintah.Berikut adalah solusi kami yang agak jenaka:# users_uploader.rbrequire &#39;execjs&#39;module StudentHandler  class UsersUploader    attr_reader :command    def initialize(emails:, partner_id:)      partner = Partner.find_by(id: partner_id)      emails = emails.join(&#39; &#39;)      @command = &quot;node lib/nodejs/mass_uploader.js &#39;#{emails}&#39; &#39;#{partner.firebase_credential}&#39;&quot;    end    def execute      system @command    end  endendKami membiarkan Sidekiq bekerja sendiri, sementara kami punya waktu untuk bisa bernafas lega:module StudentImportWorker  class ImportWorker    include Sidekiq::Worker    def perform(id)      StudentCSVHandler::CSVImport.new(        id: id      ).execute    end  endendAlhamdulillah, karya busuk kami masih berjalan sampai sekarang meski terdapat banyak kesalahandi sana-sini.Kini, ribuan mahasiswa yang sebelumnya sudah terdaftar di universitas mitra bisamenikmati layanan yang disediakan LMS tanpa perlu melakukan proses penerimaan mahasiswa baruyang melelahkan. Terima kasih Node.js! Terima kasih Firebase! Saya pensiun menggunakan Ruby on Rails!",
    "url": "https://miayam.github.io/ruby/2017/10/08/import-firebase-account"
  }
</script>
<!-- End Jekyll SEO tag -->
</head>



  
    <body class="standard">
  

    <div class="container">
      <div class="grid">
        <aside class="cell -3of12" role="navigation">
          <div class="logo">
            <a href="/" class="logo_link">
              <img src="/images/personal_life.png" style="height: 165px" title="Back to the home page...">
            </a>
            <span class="bullshit">Delicious Meal for Thought</span>
          </div>
          <div class="t-hackcss-navigation">
  <h2 class="t-hackcss-navigation-heading">Main Menu</h2>

  <nav class="menu" role="menubar">
    
    
      <a class="menu-item "
        role="menuitem" href="/" title="">
        Home <div class="pull-right">»</div>
      </a>
    
      <a class="menu-item "
        role="menuitem" href="/about" title="">
        About <div class="pull-right">»</div>
      </a>
    
      <a class="menu-item "
        role="menuitem" href="/archive" title="">
        Archive <div class="pull-right">»</div>
      </a>
    
      <a class="menu-item "
        role="menuitem" href="/assets/file/Resume_Muhammad_Deni_Ramadhan.pdf" title="">
        Resume <div class="pull-right">»</div>
      </a>
    
      <a class="menu-item "
        role="menuitem" href="/search" title="">
        Search <div class="pull-right">»</div>
      </a>
    
  </nav>
</div>

        </aside>

        <main class="cell -9of12">
          <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Bagaimana Kami Mengelola Akun Firebase Menggunakan Ruby?</h1>
    <p class="post-meta">
      <time datetime="2017-10-08T00:00:00+07:00"
            itemprop="datePublished"
            class="media-heading">
        8 October 2017
      </time>

      <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">written by <a href="https://github.com/miayam">Muhammad D. Ramadhan</a></span>
      </span>
    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><code class="highlighter-rouge">Firebase</code> belum menyediakan pustaka (<em>library</em>) untuk mengelola akun di <code class="highlighter-rouge">Firebase</code> dalam bahasa <code class="highlighter-rouge">Ruby</code>.
Kami punya ide untuk menangani masalah ini.</p>

<p>Biasanya penerimaan mahasiswa dilakukan melalui proses panjang di UMS (<em>University Management System</em>):
Mulai dari pengunggahan berkas-berkas, pemilihan lokasi ujian, melakukan berbagai pembayaran, sampai
akhirnya calon mahasiswa resmi menjadi mahasiswa di universitas mitra. Semua proses dilakukan
secara daring (<em>online</em>).</p>

<p>Nah! Salah satu universitas mitra ternyata sudah memiliki daftar mahasiswa (3000-an lebih) melalui
proses manual. Kami perlu memasukkan daftar mahasiswa tersebut ke basis data (<em>database</em>) agar mereka bisa
menikmati semua layanan yang disediakan LMS (<em>Learning Management System</em>). <em>VP of Engineering</em> memutar otak
karena kami sudah terlanjur menggunakan <code class="highlighter-rouge">Ruby on Rails</code> dari awal dan melakukan migrasi ke <code class="highlighter-rouge">Node.js</code> sama
saja dengan bunuh diri. Bisa saja kami melakukan pengisian manual secara langsung di Firebase, tapi buat
apa menjadi pengembang web jika masih melakukan pekerjaan repetitif semacam itu? Setelah meminta wejangan
kepada leluhur, akhirnya kami punya solusi yang cukup <em>nyeleneh</em>.</p>

<p>Pertama-tama, kami membuat <a href="https://kbbi.web.id/folder">folder</a> baru dengan nama <code class="highlighter-rouge">nodejs</code>.</p>

<p>Berikut adalah <code class="highlighter-rouge">package.json</code> untuk proyek <code class="highlighter-rouge">Node.js</code> kami.</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js">  <span class="p">{</span>
    <span class="s2">"name"</span><span class="err">:</span> <span class="s2">"nodejs"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="err">:</span> <span class="s2">"1.0.0"</span><span class="p">,</span>
    <span class="s2">"description"</span><span class="err">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"main"</span><span class="err">:</span> <span class="s2">"index.js"</span><span class="p">,</span>
    <span class="s2">"scripts"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"test"</span><span class="err">:</span> <span class="s2">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
    <span class="p">},</span>
    <span class="s2">"author"</span><span class="err">:</span> <span class="s2">"UMS team"</span><span class="p">,</span>
    <span class="s2">"license"</span><span class="err">:</span> <span class="s2">"ISC"</span><span class="p">,</span>
    <span class="s2">"dependencies"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"firebase"</span><span class="err">:</span> <span class="s2">"^3.6.10"</span><span class="p">,</span>
      <span class="s2">"firebase-admin"</span><span class="err">:</span> <span class="s2">"^4.1.1"</span><span class="p">,</span>
      <span class="s2">"sleep"</span><span class="err">:</span> <span class="s2">"^5.1.0"</span><span class="p">,</span>
      <span class="s2">"pg"</span><span class="err">:</span> <span class="s2">"^6.1.5"</span><span class="p">,</span>
      <span class="s2">"url"</span><span class="err">:</span> <span class="s2">"^0.11.0"</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre></figure>

<p>Tidak ada satu pun di tim kami yang punya pengalaman dengan <code class="highlighter-rouge">Node.js</code>, jadi harap maklum jika kode yang akan
kalian lihat membuat mata perih.</p>

<p><img src="https://i.imgur.com/zzG8J5w.png" alt="my eyes" class="blog-post-image" />
<em class="description">My eyes!</em></p>

<p>Solusi paling masuk akal adalah meminta tim operasional mengimpor daftar mahasiswa tersebut dalam bentuk CSV
ke UMS, kemudian biarkan program berjalan di belakang layar sampai semua mahasiswa
mendapatkan hak akses ke LMS.</p>

<p>Berikut adalah cungkilan dari kode busuk kami yang sama sekali tidak punya keindahan semantik
dan estetika.</p>

<p>Ini modul untuk “membungkus” fungsi-fungsi bawaan <code class="highlighter-rouge">Firebase</code>:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js">  <span class="c1">// firebase_administrator.js</span>

  <span class="kd">function</span> <span class="nx">firebaseCreateUser</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span> <span class="nx">admin</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">admin</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">createUser</span><span class="p">({</span>
      <span class="na">email</span><span class="p">:</span> <span class="nb">String</span><span class="p">(</span><span class="nx">email</span><span class="p">).</span><span class="nx">trim</span><span class="p">(),</span>
      <span class="na">emailVerified</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">password</span><span class="p">:</span> <span class="s2">"harukaedu1234567890qwertyuiop[]"</span><span class="p">,</span>
      <span class="na">disabled</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">userRecord</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Successfully created new user:"</span><span class="p">,</span> <span class="nx">userRecord</span><span class="p">.</span><span class="nx">uid</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">userRecord</span><span class="p">.</span><span class="nx">uid</span><span class="p">;</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Email: "</span><span class="p">,</span> <span class="nx">email</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Error: "</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Error creating new user:"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="k">return</span> <span class="s1">'failed'</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">firebaseUpdateUser</span><span class="p">(</span><span class="nx">uid</span><span class="p">,</span> <span class="nx">properties</span><span class="p">,</span> <span class="nx">admin</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">admin</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">updateUser</span><span class="p">(</span><span class="nx">uid</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">email</span><span class="p">:</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span>
      <span class="na">password</span><span class="p">:</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">password</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">userRecord</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">userRecord</span><span class="p">;</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Error fetching user data: "</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">firebaseGetUserUID</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span> <span class="nx">admin</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">admin</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">getUserByEmail</span><span class="p">(</span><span class="nx">email</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">userRecord</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">userRecord</span><span class="p">.</span><span class="nx">uid</span><span class="p">;</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Error fetching user data: "</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">exports</span><span class="p">.</span><span class="nx">createUser</span> <span class="o">=</span> <span class="nx">firebaseCreateUser</span><span class="p">;</span>
  <span class="nx">exports</span><span class="p">.</span><span class="nx">updateUser</span> <span class="o">=</span> <span class="nx">firebaseUpdateUser</span><span class="p">;</span>
  <span class="nx">exports</span><span class="p">.</span><span class="nx">getUserUID</span> <span class="o">=</span> <span class="nx">firebaseGetUserUID</span><span class="p">;</span></code></pre></figure>

<p>Ini modul untuk mengunggah akun secara masal ke <code class="highlighter-rouge">Firebase</code>:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js">  <span class="c1">// mass_uploader.js</span>

  <span class="kd">var</span> <span class="nx">firebase</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./firebase_administrator'</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">emails</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">serviceAccount</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
  <span class="kd">var</span> <span class="nx">admin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"firebase-admin"</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">actions</span><span class="p">;</span>

  <span class="nx">admin</span><span class="p">.</span><span class="nx">initializeApp</span><span class="p">({</span>
    <span class="na">credential</span><span class="p">:</span> <span class="nx">admin</span><span class="p">.</span><span class="nx">credential</span><span class="p">.</span><span class="nx">cert</span><span class="p">(</span><span class="nx">serviceAccount</span><span class="p">)</span>
  <span class="p">});</span>

  <span class="kd">function</span> <span class="nx">uploadUsers</span><span class="p">(</span><span class="nx">email</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">createUser</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span> <span class="nx">admin</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">uid</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">uid</span><span class="p">);</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Error creating user"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">actions</span> <span class="o">=</span> <span class="nx">emails</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">uploadUsers</span><span class="p">);</span>

  <span class="nx">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">actions</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Success!"</span><span class="p">);</span>
    <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
  <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed!"</span><span class="p">);</span>
    <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
  <span class="p">});</span></code></pre></figure>

<p>Dari sini, kami memulai menulis kode <code class="highlighter-rouge">Ruby</code> untuk pembuatan servis yang akan dieksekusi di belakang layar
menggunakan <code class="highlighter-rouge">Sidekiq</code>. Silahkan baca <a href="https://github.com/mperham/sidekiq/wiki" target="_blank">dokumentasinya</a>
agar lebih jelas.</p>

<p>Sebelum menulis kode, kami memastikan pustaka <code class="highlighter-rouge">execjs</code> dan <code class="highlighter-rouge">therubyracer</code> terlampir di konfigurasi <code class="highlighter-rouge">Gemfile</code>:</p>

<p><img src="https://i.imgur.com/DSrVPca.png" alt="seperti ini" class="blog-post-image" /></p>

<p>Kurang lebih seperti ini kodenya:</p>

<noscript><pre># student_import.rb

require &#39;csv&#39;

module StudentCSVHandler
  class CSVImport
    def initialize(id:)
      @student_import = StudentImport.find_by(id: id)
      @file_path = &quot;#{Rails.root}/tmp/#{@student_import.file.path}&quot;
      @partner = @student_import.partner
      @id = id
      # Untuk mengunggah dokumen CSV/Excel ke Google Cloud Storage
      @gcs_service = GCS2::ImportStudent::FileManagement.new(object_id: id)
    end

    def execute
      status, remark = import!
      student_import(
        id: @id,
        status: status,
        remark: remark
      )

      @gcs_service.upload_file(
        subject: @student_import.file_file_name,
        path: @file_path
      )

      return status, remark
    end

    private

    ### Implementasi kami sembunyikan karena kami malu ###
    def student_import(:id, :status, :remark)
      emails = @student_import.pluck(:email)
      StudentHandler::UsersUploader.new(
        emails: emails,
        partner_id: @partner.id
      )
      ### Sisanya acak-acakan sekali ###
    end
    
    def import!
      ### Ini juga acak-acakan sekali ###
    end
  end
end</pre></noscript>
<script src="https://gist.github.com/miayam/d286dc449dc46f5ccf1cf51a54caaa26.js"> </script>

<p>Servis ini akan berjalan setiap tim operasional melakukan pengunggahan. Secara otomatis, <code class="highlighter-rouge">Sidekiq</code>
akan mendaftarkan proses ini ke antrian sebelum dieksekusi. Ini cukup masuk
akal karena 3000 lebih mahasiswa tidak diunggah dalam 1 dokumen, mereka dibagi
berdasarkan kelas dan mata kuliah yang diambil di semester yang sedang berjalan.</p>

<p>Inilah kode kunci untuk menyelesaikan masalah ini. Kami meminta mesin <code class="highlighter-rouge">linux</code> untuk menjalankan
skrip <code class="highlighter-rouge">Node.js</code> dari CLI (<em>Command-line Interface</em>), sementara parameter-parameter yang kami butuhkan
dimasukkan secara dinamis—yang berarti tidak ditulis secara langsung di baris perintah.
Berikut adalah solusi kami yang agak jenaka:</p>

<noscript><pre># users_uploader.rb
require &#39;execjs&#39;

module StudentHandler
  class UsersUploader
    attr_reader :command

    def initialize(emails:, partner_id:)
      partner = Partner.find_by(id: partner_id)
      emails = emails.join(&#39; &#39;)
      @command = &quot;node lib/nodejs/mass_uploader.js &#39;#{emails}&#39; &#39;#{partner.firebase_credential}&#39;&quot;
    end

    def execute
      system @command
    end
  end
end</pre></noscript>
<script src="https://gist.github.com/miayam/a1c6fa21c1d793e25a13fbe907134a8a.js"> </script>

<p>Kami membiarkan <code class="highlighter-rouge">Sidekiq</code> bekerja sendiri, sementara kami punya waktu untuk bisa bernafas lega:</p>

<noscript><pre>module StudentImportWorker
  class ImportWorker
    include Sidekiq::Worker

    def perform(id)
      StudentCSVHandler::CSVImport.new(
        id: id
      ).execute
    end
  end
end</pre></noscript>
<script src="https://gist.github.com/miayam/bec52f5d6834719f451c4c7206cf1787.js"> </script>

<p>Alhamdulillah, karya busuk kami masih berjalan sampai sekarang meski terdapat banyak kesalahan
di sana-sini.</p>

<p>Kini, ribuan mahasiswa yang sebelumnya sudah terdaftar di universitas mitra bisa
menikmati layanan yang disediakan LMS tanpa perlu melakukan proses penerimaan mahasiswa baru
yang melelahkan. Terima kasih <code class="highlighter-rouge">Node.js</code>! Terima kasih <code class="highlighter-rouge">Firebase</code>! Saya pensiun menggunakan <code class="highlighter-rouge">Ruby on Rails</code>!</p>

  </div>

  <div class="blog-navigation">
    <hr>
    
      <a href="/javascript/2017/09/28/day30-javascript-challenge" class="blog-navigation__previous-link">&laquo; Day 30: JavaScript Challenge</a>
    
    
  </div>
</article>

<section>
  <div class="fb-comments" data-href="https://miayam.github.io/ruby/2017/10/08/import-firebase-account" data-width="100%" data-numposts="10">
  </div>
</section>

        </main>
      </div>

    <footer class="t-hackcss-footer">
  <div class="cell -12of12">
    <div class="contact-list">
    </div>
  </div>
</footer>


    </div>

  </body>
  <div id="fb-root"></div>
  <script>
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) {
        d.getElementById('loading').style.display = "none";
        return;
      }
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.9&appId=676883012507478";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</html>
